<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Contact Us Page Design using Html CSS</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
    <link rel="stylesheet" href="popup.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        .loading {
            display: none;
        }

        .visible {
            display: block;
        }
    </style>
</head>
<body>
    <section id="section-wrapper">
        <div class="box-wrapper">
            <div class="info-wrap">
                <h2 class="info-title">Contact Information</h2>
                <h3 class="info-sub-title">Fill up the form and our Team will get back to you within 24 hours</h3>
                <ul class="info-details">
                    <li>
                        <i class="fas fa-phone-alt"></i>
                        <span>Phone:</span> <a href="tel:+ 1235 2355 98">+91 9923402255</a>
                        
                    </li>
                    <li>
                        <i class="fas fa-paper-plane"></i>
                        <span>Email:</span> <a href="mailto:info@yoursite.com">ranker@gmail.com</a>
                    </li>
                    <li>
                        <i class="fas fa-globe"></i>
                        <span>Website:</span> <a href="#">yoursite.com</a>
                    </li>
                </ul>
                <ul class="social-icons">
                    <li><a href="https://www.facebook.com/rankerspointyavatmal?mibextid=ZbWKwL"><i class="fab fa-facebook"></i></a></li>
                    <li><a href="https://www.instagram.com/rankerspoint_yavatmal/?igshid=MzRlODBiNWFlZA%3D%3D"><i class="fab fa-instagram"></i></a></li>
                    <li><a href="https://www.youtube.com/@rankerspointyavatmal"><i class="fab fa-youtube"></i></a></li>
                </ul>
            </div>
            <div class="form-wrap">
                <form id="contactForm">
                    <h2 class="form-title">Send us a message</h2>
                    <div class="form-fields">
                        <div class="form-group">
                            <input type="text" class="fname" placeholder="First Name" id="name">
                        </div>
                        <div class="form-group">
                            <input type="text" class="lname" placeholder="Last Name">
                        </div>
                        <div class="form-group">
                            <input type="email" class="email" placeholder="Mail" id="email">
                        </div>
                        <div class="form-group">
                            <input type="number" class="phone" placeholder="Phone">
                        </div>
                        <div class="form-group">
                            <textarea name="message" id="message" placeholder="Write your message" ></textarea>
                        </div>
                    </div>
                    <div class="loading" id="loading">Loading...</div>
                    <input type="submit" value="Send Message" class="submit-button">
                </form>
                </form>
                </div>
        </div>
    </section>
    <button class="close-form"  id="openFormInNewTab" style="height: 60px; width: 60px;">
        <i class="fas fa-times" style="height: 60px; width: 60px;"></i>
    </button>
    
    <script>
        const openFormButton = document.getElementById('openFormInNewTab');
    
        openFormButton.addEventListener('click', () => {
            // Open the form page in a new tab
            window.open('path-to-your-form-page.html', '_blank');
        });
    </script>
    <script src="
    https://cdn.jsdelivr.net/npm/sweetalert@2.1.2/dist/sweetalert.min.js
    "></script>
    <!-- id="closeFormButton" -->
    <script>
        document.getElementById('contactForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the default form submission

            // Show the loading spinner
            document.getElementById('loading').classList.add('visible');

            // Collect data from the form
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                // Add other form fields here as needed
            };

            // Make a POST request to the API
            fetch('https://email-integration.onrender.com/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData),
            })
            .then(response => response.json())
            .then(data => {
                // Hide the loading spinner
                document.getElementById('loading').classList.remove('visible');

                // Handle the API response here
                console.log(data);

                // Display a SweetAlert success message
                Swal.fire({
                    title: 'Success!',
                    text: 'Your message has been sent successfully.',
                    icon: 'success',
                });
            })
            .catch(error => {
                // Hide the loading spinner
                document.getElementById('loading').classList.remove('visible');

                // Handle errors here
                // console.error('Error:', error);

                // Display a SweetAlert error message
                Swal.fire({
                    title: 'Error!',
                    text: 'An error occurred while sending your message.',
                    icon: 'error',
                });
            });
        });
    </script>
</body>
</html>